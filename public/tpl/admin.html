<div class="admin">
    <div class="buttons">
        <input type="button" value="Déconnexion" class="button" ng-click="logout()" />
    </div>

    <h1>Administration</h1>
    <h2>Programme</h2>
    <div class="message" ng-show="message">{{ message }}</div>
    <div class="form">
        <select ng-model="current">
            <option ng-repeat="schedule in schedules" ng-value="schedule">{{ schedule.day }}</option>
        </select>
        <div class="datepicker">
            <datepicker><input type="date" placeholder="Date" ng-model="current.date" /></datepicker>
        </div>
        <div class="allDay">
            <label>Toute la journée ?</label>
            <input type="checkbox" ng-model="current.allDay" ng-change="slot()" />
        </div>
    </div>

    <table>
        <tr ng-hide="current.allDay">
            <th>Heure</th>
            <th>Emission</th>
            <th>Titre</th>
            <th>Streamer</th>
        </tr>
        <tr ng-repeat="slot in current.slots">
            <td ng-hide="current.allDay">
                <select ng-model="slot.hour">
                    <option ng-repeat="hour in hours" ng-value="hour">{{ hour }}</option>
                </select>
            </td>
            <td ng-hide="current.allDay">
                <select ng-model="slot.show">
                    <option ng-repeat="(slug,show) in shows" ng-value="slug">{{ show }}</option>
                </select>
            </td>
            <td>
                <textarea placeholder="Titre" ng-model="slot.title"></textarea>
            </td>
            <td ng-hide="current.allDay">
                <input type="text" placeholder="Streamer" ng-model="slot.streamer" />
            </td>
        </tr>
    </table>

    <div class="buttons">
        <input type="button" value="Valider" class="button" ng-click="submit()" />
    </div>

    <h2>Aperçu</h2>
    <div ng-include="'tpl/schedule.html'"></div>
</div>